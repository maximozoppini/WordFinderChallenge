using BenchmarkDotNet.Attributes;
using BenchmarkDotNet.Configs;
using BenchmarkDotNet.Diagnosers;
using Microsoft.Extensions.Configuration;
using BenchmarkDotNet.Diagnostics.Windows;
using BenchmarkDotNet.Diagnostics.Windows.Configs;

namespace WordFinder.Benchmark
{
    [MemoryDiagnoser]
    [ThreadingDiagnoser]
    [ConcurrencyVisualizerProfiler]
    [EtwProfiler]
    [ExceptionDiagnoser]
    public class WordFInderBenchmarks
    {
        public IConfiguration _config;
        [Params("range", "index", "secuential")]
        public string ConfigFile;

        [GlobalSetup]
        public void Setup() {
            _config = new ConfigurationBuilder().AddJsonFile($"appsettings.{ConfigFile}.json").Build();
        }

        [Benchmark]
        public void BenchmarkFind_Normal()
        {

            string[] list = { "enmcsolrdsgi", "bwaeqvplcoxp", "smxmaximolmq", "exiofrxbzqwu", "tnitljbyzxdl", "ytamqsagqzsl", "ctpmarianaob", "marianellaln" };
            var wordFinder = new Logic.WordFinder(_config, list);

            wordFinder.Find(list);
        }


        [Benchmark]
        public void BenchmarkFind_Stress()
        {

            string[] list =
                {
                "SSABTUHVSKBRYANTONRZAKOSAMUELPIGYZWXGFSKKHBGIBGOPRKKCLBYHXQZXTJA",
                "ZENVQQOKGPVAPOJMWWIMARTINMJEFFREYGPGANPTFYBSCOTTLNPRUAKTCMZLFINL",
                "THDSKDOUGLASVRCPNEBWIPCSAGHAECDPEWXWDISYBWLBIFDAMZDKGRPKFJQOUGHE",
                "TPRRAIUICITOSEHIBSYEFMMXZFODIIAPWQYBCCJERWYRSVMHOCALHRDTFWBPCKJX",
                "DQEOOSHYBTHYSXYQGFPWBXPSNTHPETERZMJTKHBPISPYVRKBQZCZUYXRYDBBFPAA",
                "EWWEDDWONKEVINMTQTEHIGATMPCOOLQIXDDHWOJFAYXAYVTMNNDHCEDAGACWCLMN",
                "NMRUMQLCCHDYEHASAJEJCYLCDULCQJAMESQOHLEBNDONSIZALEXANDERNFABVRED",
                "NDUBBVGAPTAXMWRXGTSPPBZXACEPSYVHTMDMVAEUYOZNZIERGHJBZACHARYIOJSE",
                "IRBDONALDBUULCTRJJVNNEKGCOOEACZOSBIAJSDTEBJSDGPGBWOTCNCZGPNLRONR",
                "SYPPMRRWWDFMIVIXUHTUHTQBQRUWLYRFIMHSOQWOQGUMUIVRMWNYSJSHABIJHSGG",
                "JGUJGIYRLJBXPPNYSGAERICSUKWFALJYFQFMEMACDXRDJERRYTATPRYANKZSHHHJ",
                "GNJEOPPWXZLFSGWBTEJKJYBYBLJMNCENEDCYTCRAERMHKDTBTNTGMWBKXYNRYUXJ",
                "TGBFDMVHCYSPCNLBIXAMLYYZZIGFLNYSNLZKDHDIFHDJBHVVRBHMRELELFFLGAAE",
                "LSBFRSJOEFWMRKENNETHYFQTAPFQLAKSUSVDTONATPNSBZDUPKAHSTVNUDJEREMY",
                "FDHRUAOYYUCCOZIEODDXNKAMJUVXFWUJACOBGVELZUKEPDVAIXNAOHJNFEHZUXJQ",
                "KNTEQMRRPBOJNQERROIHRIRXLWKHXIIKCFGUYRRYBEBGEORGEYONLAVENCTOXJEB",
                "SAUYEUDWQBCAAXAPLDLRRSRIORNHTLGIUMDUCDIMROAVXEGDNATBJNJTGSJJNABF",
                "CZJBPEADTVHXLBNPPQEITBTWLCLDDLJUCOLHPRCAUNEESCPGHECHAWZHVIEJNMCJ",
                "OKWTNLNALCDMDHLPWNDBBRQHVEQDDIKTMICHAELRCLZXOAVRIJOSEPHHTTRMVEUR",
                "TMYYEDINUPVBYZTUPVAVEWCPWASOZEDHZLSZUFQKETORNSWDBFNDPJXRHWEHHSMM",
                "TUMOBENINQNWCEPTETPQNBDZMRTNRDTYNVJORDANNSPCLBEKFPGUYSPYUSMMXRCL",
                "YLYNDOBEMZQVRARKENZHJWIXIEQACTUGUUFXYHAROLDVWIWEYYBQANTHONYRXVID",
                "VIZRBAJLZSADAMJTMKYGAGINZOBLMVTIMOTHYWTDILKYYLAVYZAEIILAALUTLTWD",
                "QYDYLANAVUWAMPYXBOJFMXWLYRIDFUQGDDOXDCAYDEATYLLIXNATHANYHQTZXEPO",
                "RNGBFQUVRNDQNQWYMFPSIHTVHOEHUXEWVAOXSUQLQWXHVYTNAIHRGFGECIDHXTWC",
                "HMPNDVYHARRYJXTFYRKJNDVLVGTVWDSFJVFMEDYAYIYVBUEOLQVGJLCDAVFZFPZM",
                "SJAQGGWVEHKLUJQNPSNJXARLDEPIPKNQNIVMKCDNMSZNMKRTSUHUVAAOGLXPDUQX",
                "FKAIYEIHOVACBNWGJRECKCYUTRWJRINKYDGXAXQBYPQMUABILLYKUPRWFLDTJBRU",
                "FOEXSILPAULDLXNTJCPXHLQZKMXASSXNYUYLBNZYOSPYBLORBEAVWALPUIVJRTDM",
                "GNFIRQLIMXTDRMRWIROZYEDWARDSVLSFQCLMLORONALDDBJDBZJUSBJFKTTGZTOQ",
                "SXHJBNIOICGGYMZSOBDHDIJPJEBOEFHDJXGVUATDJSTTUEJBCDMWTGRTJKGXVMKK",
                "LJWMECATXHXFVNJTCZZRFVAELZKNJESSEXOZCHRISTIANRPGJYUXEKLJUIYBBASB",
                "LBLEBHMWILLIAMDMTUQOBRTIFOAZQZKNMFGAKJWRIHMMVTUKFEYOVWFTPHFLMOFV",
                "NQBTRRMABJZSQNDDMNFEXYDGNOAHFMCHKHEVHAKQHVOADAVIDYJLERUNYAACZODN",
                "TSHGAIIOHGJERDBWTSCOYADXWCDAAAWSVQOALCGSHBPAZGDQOHWINFBYDERUZTSB",
                "UHCHNSCPQWUDAVSKGUFBPNPPZJKXWXBGSHRUZKRFFDDSRZYSWJQQINONVSWMFJTB",
                "IMQTDTHVVVZTNFNQXCCHARLESOIUFQPVNDGSIUZPHSSKVFITHOMASZTTYVPRMDNR",
                "BICCOIAMTQMBTAMZGARYIMKMUSMQZKYLESETFAEIKBGFOVDZIYXELANDREWLUDHF",
                "QDWWNAEKCECVHACSSOVZVKQOCEFNHICMXENIWAJKTMJACKIAIEFYCCRXRZSCWFKG",
                "GRGGYNLEHILVOSTTDNFISYPFBPSKSSGLIBMNLGOCXJNCLWMWDCRGBHXPMOQEGABM",
                "ZIROGERKFGNRNHLWNDZEDLPCZHMYMAKAFENXGCMIUXUQFRANKYATVAKVVSDANIEL",
                "SYPWCGZFKZVXYDUVDHGUDEUJONATHANMBCAPOGAJBCLSILARRYNKSRQZSVHDIMDY",
                "QIXNWPPRIGIVTKFLXKUUMQXKGLDRKNEXUQCARLKYGTPMHEUSXOKKQYDCGGMTFVLS",
                "RGFFMANPMAXSTEPHENNHUFWIYMPZAHPJBRIANNXMWNCMIGEJWILLIEAKNOQIJETH",
                "OBWNAUQLVIPEFNNPVRBJHLYVWVZGMNKXEKWDDPFNHJJZIFJQVNVDVYMIRMGMXRJT",
                "FSKDTLGAEKTJELKPVMPRDTIFMATTHEWPDQVUKXEIAQUMSKJILWBNVESKIWAOFNTR",
                "PPYYVCNPUZHWYJIERLUOXQTIVBHOCNJTBKMFCWALTERMMYHXJWAXNZTXYVZTJDFI",
                "HAEDKSLOQBTGIISTFBHMFUBRPFZHPQOYFYXUQFJASONHTDEHGDDSDENNISMHEJIJ",
                "QWMBRUCEYONZXWMEHIDJMPJCAUVOALILFEBRANDONCYHYSNMIDAHEUXVGTMYYKXX",
                "JKQJVPQUVLLAOPARUGIRIKNRMNNQTDNEUSPTUEPKEBHAQORGZWMANUORAUSTINHN",
                "VBSYZDZXQMBLYCQIRTLKGFAJSYVSRFXRVQEMGDKNOMIUJFYCFITRDFVFGRMNKUDC",
                "IZTJYJGZMARKLZABWQTVZFTOYUHFICPAZNXVZTVENICHOLASLNORLIMSFTMZJJUH",
                "ZSAAQQUEEUDRKJOLEWISXLHHZEOICNOJCOHHBROTRKXALBERTAHYKZHPPNHLEQGA",
                "WQDMDTNCWHLWAOTVERLQZDANJFOJKDOPNBBEORWPQDTYLERAAJCWMLGSKRWGSXOR",
                "AGOEXVHYVWHLQSCCDEUELBNSYOSQWRNQIOSJAIWJWZPWNDIFYEDCLOQWBMWKSEGL",
                "UZUSOLEVKQVVAEJOSHUASXZOCXPZZCXROBERTLMRXZYAKJOHNOTLJIEFXBIXEFME",
                "POGHXJIBAVLXBYSQOVUBNKSTEVENDWVYATAGSPAQOVJAFBENJAMINYRRFWPNRFFS",
                "RVLQNEYUHJPATRICKDEAHSFAZZTAOJEHEYKKAFTZSPIRWCETHANRICHARDJWOMQX",
                "DKAKRRHAJOFHFZNNIFLBMTWMGBFGCAPBJDCIHBTTZIKOABCOEQJIDNHNJWJYBKXT",
                "MXSXBRQXAYONCALANLHGEEBJFAOSDGFYAOKQGMHIHIUNJIHHPMACANASDWMTEOLG",
                "WOAKYYYHMUSTINBALMMPRPRDBMAASCCZMERRQOELKPIWTZELGDCHFRRZXVDPRAVG",
                "DXHBJIWAEZZLUIHSMZICPHBMGNJHRUHPEAARONWCDUPZGJNVHPOABKOQEQNGTSUV",
                "TWZCPNCFSGROWZDPMDEMBEFREHPONWUNSHVZYYNFIBCDGXWTQVBRXLLOUKGZIEWE",
                "RRBCTAOHQZJPPBEDNUOGCNRMHENRYXNKPQIZRFQAHOCCSZDSJTNDTQDSBLJOSEOE"
            };
            var wordFinder = new Logic.WordFinder(_config, list);
            var names = new List<string>
                {
                    "JAMES", "JHON", "ROBERT", "MICHAEL", "WILLIAM", "DAVID", "RICHARD", "JOSEPH", "CHARLES", "TOMAS",
                    "DANIEL", "MATTHEU", "ANTHONY", "MARX", "DONAL", "STEVEN", "PAUL", "ANDREW", "JOSHUA", "KENNETH",
                    "KEVIN", "BRIAN", "GEORGE", "EDWARD", "RONALD", "TIMOTHY", "JASON", "JEFFREY", "RYAN", "JACOB"
                };
            wordFinder.Find(names);
        }


    }

}
